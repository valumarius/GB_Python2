# Урок №3

# Материалы урока (examples)


# Домашнее задание (директория homework)
## Проект "Платёжная система"
1. В бинарный протокол обмена терминала и сервера добавить поля **id_терминала**, **id_транзакции**. ID терминала будет задаваться файлом конфигурации, ID транзакции должен быть уникальным в рамках одного терминала.
2. На стороне сервера препроцессинга реализовать возможность сохранения данных о платежах через терминал в реляционной БД.
В качестве СУБД можно использовать SQlite или любую другую. ER-диаграмма структуры БД приведена в файле homework/ERDiagram.svg

    2.а. Реализовать возможность создания структуры БД

    2.б. Реализовать возможность добавлять данные в БД (INSERT)

    2.в. Реализовать возможность удалять данные из БД (DELETE)

    2.г. Реализовать возможность производить выборку данных (SELECT):

    * Выбрать платёжные транкции для указанного терминала (id) за указанный период (datetime).

    * За указанный период (datetime) по данным платёжных транзакций сформировать выборку какая сумма должна быть перечислена каждой фирме-партнёру (можно не учитывать тех партнёров, для которых нет платежей).

    * По данным платёжных транзакций сформировать выборку с указанием, какая сумма прошла через каждый терминал за указанный период.

    * *Дополнительно.* По каждому терминалу сформировать отчет, где отражаются временные периоды в течение дня (0-6, 6-12, 12-18, 18-24) и количество транзакций в каждый временной период.

* На выбор:
    * Работать через SQL-запросы
    * Работать через ORM (SQLAlchemy/peewee/PonyORM)

